<view class="ShoppingCart"><top-navigation vue-id="fad409e8-1" type="{{2}}" backgroundColor="#F8F8FA" title="购物车" data-event-opts="{{[['^returnClick',[['returnClick']]]]}}" bind:returnClick="__e" bind:__l="__l"></top-navigation><block wx:if="{{!dataList||!dataList.length}}"><view class="ShoppingCart_null"><image src="../../static/mallImg/ShoppingCartNull.png" mode></image><text>购物车空无一物</text></view></block><block wx:else><view><view class="ShoppingCart_list"><view data-event-opts="{{[['tap',[['addressClcik']]]]}}" class="ShoppingCart_list_button" bindtap="__e"><image src="../../static/mallImg/adds.png" mode></image>请选择收货地址</view><view class="ShoppingCart_list_content"><block wx:for="{{dataList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="ShoppingCart_list_content_box"><image class="ShoppingCart_list_content_close" src="../../static/mallImg/close.png" mode data-event-opts="{{[['tap',[['openDetele',['$0'],[[['dataList','',index,'id']]]]]]]}}" bindtap="__e"></image><view class="ShoppingCart_list_content_img"><image src="{{imgUrl+item.details_imgs}}" mode></image></view><view class="ShoppingCart_list_content_price"><view class="ShoppingCart_list_content_price_title">{{''+item.goods_name+''}}</view><view class="ShoppingCart_list_content_price_operating"><view class="price"><text class="subtotal">{{"小计：￥"+item.subtotal}}</text><text class="unitPrice">{{"单价：￥"+item.preferential_price}}</text></view><view class="operating"><image class="less" src="../../static/mallImg/less.png" mode data-event-opts="{{[['tap',[['_updateCart',['$0',index,0],[[['dataList','',index,'id']]]]]]]}}" bindtap="__e"></image><text class="num">{{item.quantity}}</text><image class="add" src="../../static/mallImg/add.png" mode data-event-opts="{{[['tap',[['_updateCart',['$0',index,1],[[['dataList','',index,'id']]]]]]]}}" bindtap="__e"></image></view></view></view></view></block></view><view class="ShoppingCart_list_operating"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="ShoppingCart_list_operating_coupon" bindtap="__e"><text class="text">优惠券</text><view class="view">{{''+couponTitle+''}}<image src="../../static/mallImg/couponRight.png" mode></image></view></view><view class="ShoppingCart_list_operating_input"><text class="text">买家留言</text><view class="view"><block wx:if="{{couponStatus||deteleStatus}}"><view class="input">{{''+leavemessage+''}}</view></block><block wx:else><input class="input" type="text" data-event-opts="{{[['input',[['__set_model',['','leavemessage','$event',[]]]]]]}}" value="{{leavemessage}}" bindinput="__e"/></block><block wx:if="{{leavemessage}}"><image src="../../static/mallImg/close.png" mode data-event-opts="{{[['tap',[['EmptyInputClick']]]]}}" bindtap="__e"></image></block></view></view></view></view><view class="ShoppingCart_Settlement"><view class="ShoppingCart_Settlement_left">总金额<text class="ShoppingCart_Settlement_left_text"><text>￥</text>{{''+total_prices+''}}</text></view><view data-event-opts="{{[['tap',[['nextClick']]]]}}" class="ShoppingCart_Settlement_right" bindtap="__e">下一步</view></view></view></block><block wx:if="{{couponStatus}}"><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="ShoppingCart_coupon" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="ShoppingCart_coupon_box" catchtap="__e"><image class="ShoppingCart_coupon_box_close" src="../../static/mallImg/close.png" mode data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" bindtap="__e"></image><view class="ShoppingCart_coupon_box_top"><text class="text1">使用优惠券</text><text class="text2">请选择欲使用的优惠券</text></view><block wx:if="{{!couponList||!couponList.length}}"><view class="ShoppingCart_coupon_box_null"><view><image src="../../static/mallImg/couponNull.png" mode></image><text>尚无优惠券</text></view></view></block><block wx:else><view class="ShoppingCart_coupon_box_content"><block wx:for="{{couponList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['couponClick',[index]]]]]}}" class="ShoppingCart_coupon_box_content_list" bindtap="__e"><view class="left"><view class="left_radialGradient1"></view><view class="left_radialGradient2"></view><view><text>{{item.discount}}</text>折</view></view><view class="right"><view class="right_radialGradient1"></view><view class="right_radialGradient2"></view><view class="text">{{''+item.coupon_name+''}}</view><block wx:if="{{couponActive!=index}}"><image src="../../static/mallImg/couponDefault.png" mode></image></block><block wx:if="{{couponActive==index}}"><image src="../../static/mallImg/couponSelect.png" mode></image></block></view></view></block></view></block><view class="ShoppingCart_coupon_box_bottom"><view data-event-opts="{{[['tap',[['useCoupon']]]]}}" bindtap="__e">使用</view></view></view></view></block><block wx:if="{{deteleStatus}}"><view class="ShoppingCart_delete"><view class="ShoppingCart_delete_box"><image src="../../static/mallImg/ShoppingCartDelete.png" mode></image><text class="text1">确定删除</text><text class="text2">删除后，如需此商品，需重新加入购物车</text><view class="view"><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="view_left" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['delCart']]]]}}" class="view_right" bindtap="__e">确定</view></view></view></view></block></view>